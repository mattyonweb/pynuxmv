MODULE main

VAR
x: integer;
y: integer;
l: array integer of integer;
line: integer;

ASSIGN
init(x) := 0;
init(y) := 1;
init(line) := 1;

next(line) := case
	line = 2 & (y < 5): line + 1; -- while(True)
	line = 2:  7; -- while(False)
	line = 6: 2; -- loop while
	line = 7: 7; 
	TRUE: line + 1; 
esac;

next(x) := case
	line = 3: x + 1;
	TRUE: x; 
esac;

next(y) := case
	line = 4: y + 1;
	TRUE: y; 
esac;

next(l) := case
	line = 1: WRITE(WRITE(WRITE(l, 2, 3), 1, 2), 0, 1);
	line = 5: WRITE(l, 2, READ(l, 2) + x);
	TRUE: l; 
esac;

INVARSPEC line = 7 -> y = 5;
INVARSPEC line = 7 -> x = 4;
INVARSPEC ((line = 7 -> y = 5) & (line = 7 -> x = 4) ) -> (line = 7 -> l[2] = 13);
